<!DOCTYPE html>
<html lang="pt">
<script src="../js/estaLogado.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link id="link1" rel="stylesheet" href="../css/nav.css">

    <link rel="stylesheet" href="../css/moduloVendas.css">

    <link rel="stylesheet" href="../css/all.css">

    <link rel="stylesheet" href="../css/gerenciarPermissoes.css">

    <title>Gerenciar Permissões</title>
</head>
<script src="../js/perfil.js"></script>
<script src="../js/logout.js"></script>
<script src="../js/checarAcesso.js"></script>

<body onload="getInfo();esta_logado(); verUsuarios(); checarAcesso('gestao')">

    <div class="container1" id="container1">
        <div class="logo">
            <img src="../img/account.png" width="80px" height="30px" alt>
        </div>

        <div class="perfil" id="perfil">
            <div class="topo">
                <div class="username" id="username">
                    <p class="p1" id="p1">Atendente</p>
                    <p class="p2" id="p2">Matheus Lucas da Silva</p>
                </div>
                <i class="bi bi-person-circle usericon" id="usericon" onclick="abrirperfil()"></i>
            </div>
            <div class="conteudo" id="conteudosair" style="position: relative;z-index: 1000;" onclick="logout();">
                <i class="bi bi-box-arrow-left"></i>
                <a href>Sair</a>
            </div>
        </div>

    </div>

    <section class="secall">
        <nav class="navegation">
            <div class="modulos alinha">
                <i class="bi bi-boxes"></i>
            </div>
            <div class="icone alinha" nome="vendas" id="icon1" onclick="podeAcessar(this)" onmouseover="aparecertool(1)"
                onmouseleave="escondertool(1)">
                <i class="bi bi-cash-coin"></i>
            </div>
            <div class="icone alinha" id="icon2" nome="estoque" onclick="podeAcessar(this)">
                <i class="bi bi-box-seam"></i>
            </div>
            <div class="icone alinha" id="icon3" nome="financeiro" onclick="podeAcessar(this)">
                <i class="bi bi-piggy-bank"></i>
            </div>
            <div class="icone alinha" id="icon4" nome="gestao" onclick="podeAcessar(this)">
                <i class="bi bi-clipboard2-data"></i>
            </div>
        </nav>
        <div class="tooltips">
            <div class="top"></div>
            <div class="tool" id="tool1">
                <div class="ponta aparecer"></div>
                <div class="balao aparecer">
                    <p>Vendas</p>
                </div>
            </div>
        </div>

        <div class="app">
            <div class="popup" id="popup">
                <div class="fundo">
                    <div class="topo">
                        <button onclick="fecharPopup();">X</button>
                    </div>
                    <div class="infos">
                        <div class="esq">
                            <div class="alinhar">
                                <p style="font-size: 14px;">Todos os campos com <span class="required"> *</span> são obrigatórios.</p>
                            </div>
                            <h3><b>Informações</b></h3>
                            <div class="alinhar">
                                <label for="nome">Nome do funcionário<span class="required"> *</span></label>
                                <input type="text" name="nome" id="nome" required>
                            </div>
                            <div class="alinhar">
                                <label for="user">Usuário do funcionário<span class="required"> *</span></label>
                                <input type="text" name="user" id="user" required>
                            </div>
                            <div class="alinhar">
                                <label for="senha">Senha do funcionário<span class="required"> *</span></label>
                                <input type="password" name="senha" id="senha" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$" title="A senha deve ter no mínimo 8 caracteres, incluir letras maiúsculas, minúsculas, números e caracteres especiais.">
                                
                            </div>
                            
                        </div>
                        <div class="dir">
                            <h3>Permissões</h3>
                            <div class="alinhar">
                                <input type="checkbox" name="gestao" id="gestao-novo">
                                <label for="gestao">Gestão</label>
                            </div>
                            <div class="alinhar">
                                <input type="checkbox" name="vendas" id="vendas-novo">
                                <label for="vendas">Vendas</label>
                            </div>
                            <div class="alinhar">
                                <input type="checkbox" name="financeiro" id="financeiro-novo">
                                <label for="financeiro">Financeiro</label>
                            </div>
                            <div class="alinhar">
                                <input type="checkbox" name="Estoque" id="estoque-novo">
                                <label for="Estoque">Estoque</label>
                            </div>
                            <div class="alinhar">
                                <label for="cargo">Cargo <span class="required">*</span></label>
                                <input type="text" name="cargo" id="cargo" required>
                                
                            </div>
                            <div class="alinhar">
                                <label for="contato">Contato <span class="required">*</span></label>
                                <input type="number" name="contato" id="contato" required>
                                
                            </div>
                            <div class="alinhar">
                                <input type="checkbox" name="admin" id="admin">
                                <label for="admin">É administrador?</label>
                            </div>
                            <div class="divbtnsalvar"><button class="btnsalvar" onclick="addUser();">Criar usuario</button></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="main-content" id="fundo">
                <div class="voltar">
                        <i class="bi bi-arrow-left-circle" onclick="window.location.href='moduloGestao.html'"></i>
                        <p onclick="window.location.href='moduloGestao.html'">Voltar</p>
                    </div>
                <div id="users">

                    <h2>Usuários cadastrados </h2>
                    <button onclick="abrirPopup();">Cadastrar Usuario <i class="bi bi-plus-circle"></i> </button>

                </div>
                <div class="alinhar">
                    <div id="listausers">
                    </div>
                    <div id="acessos">
                        <div class="priv">
                            Privilegios
                        </div>
                        <div class="inputs">
                            <input type="checkbox" name="gestao" id="gestao">
                            <label for="gestao">Gestão</label>
                        </div>
                        <div class="inputs">
                            <input type="checkbox" name="vendas" id="vendas">
                            <label for="vendas">Vendas</label>
                        </div>
                        <div class="inputs">
                            <input type="checkbox" name="financeiro" id="financeiro">
                            <label for="financeiro">Financeiro</label>
                        </div>
                        <div class="inputs">
                            <input type="checkbox" name="estoque" id="estoque">
                            <label for="Estoque">Estoque</label>
                        </div>
                        <div class="botao">
                            <button id_usuario="" id="btn-atualizar"
                                onclick="updatePermissoes(this);">Atualizar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>

</body>

</html>

<script src="../js/nav.js"></script>

<script src="../js/podeAcessar.js"></script>

<script src="../js/gerenciarAcessos.js"></script>

</html>